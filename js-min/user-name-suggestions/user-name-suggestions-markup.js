YUI.add("user-name-suggestions-markup",function(a){var b;b=function(a){this.userName=a.userName,this.selectedIndex=-1},a.mix(b.prototype,{renderSuggestionsContainer:function(){var b=[];return b.push("<div class='row suggestion-row'>"),b.push("<ul class='suggestions-container' id='suggestions-container' role='menu'></ul>"),b.push("</div>"),b=b.join(""),this.userName.get("parentNode").append(b),this.suggestionsContainer=a.one("#suggestions-container"),this.suggestionsContainer},unHighlightSuggestion:function(a){a&&a.removeClass("suggestions-hovered")},highlightSuggestion:function(a){a&&a.addClass("suggestions-hovered")},keydownHandler:function(a,b){var c,d=b.list.length-1,e=b.suggestionsContainer.all("li");if(38===a.keyCode||40===a.keyCode||13===a.keyCode)switch(a.halt(),a.keyCode){case 38:c=b.selectedIndex,b.selectedIndex-=1,b.selectedIndex<0&&(b.selectedIndex=d),b.unHighlightSuggestion(b.suggestionsContainer.one(".suggestions-hovered")),b.highlightSuggestion(e.item(b.selectedIndex));break;case 40:c=b.selectedIndex,b.selectedIndex+=1,b.selectedIndex>d&&(b.selectedIndex=0),b.unHighlightSuggestion(b.suggestionsContainer.one(".suggestions-hovered")),b.highlightSuggestion(e.item(b.selectedIndex));break;case 13:b.userName.set("value",e.item(b.selectedIndex).get("innerHTML")),b.unHighlightSuggestion(e.item(b.selectedIndex)),b.hideSuggestions(a,b)}},mouseoverHandler:function(a,b){b.unHighlightSuggestion(b.suggestionsContainer.one(".suggestions-hovered")),b.highlightSuggestion(a.target),b.selectedIndex=b.suggestionsContainer.all("li").indexOf(a.target)},mousedownHandler:function(a,b){a.halt(),b.userName.set("value",a.target.get("innerHTML")),b.unHighlightSuggestion(a.target),b.hideSuggestions(a,b)},renderSuggestions:function(a){var b,c=this,d=a.length,e=[];if(this.list!==a){for(this.list=a,b=0;d>b;b++)e.push("<li role='menuitem'>"),e.push(a[b]),e.push("</li>");e=e.join(""),this.suggestionsContainer.set("innerHTML",e)}this.suggestionsContainer.setStyle("display","block"),this.userName.on("keydown",this.keydownHandler,null,c),this.suggestionsContainer.on("mouseover",this.mouseoverHandler,null,this),this.suggestionsContainer.on("mousedown",this.mousedownHandler,null,this)},hideSuggestions:function(a,b){b.suggestionsContainer.setStyle("display","none"),b.selectedIndex=-1,b.userName.detach("keydown",this.keydownHandler),b.suggestionsContainer.detach("mouseover",b.mouseoverHandler),b.suggestionsContainer.detach("mousedown",b.mousedownHandler)},init:function(){}},!0),a.namespace("UserNameSuggestions"),a.UserNameSuggestions.UserNameSuggestionsMarkup=b},{requires:["node"]});