YUI.add("validation-controller",function(a){var b;b=function(){this.fieldsValidationConfigs=a.Validator.FieldsValidationConfigs,this.validationFunctions=new a.Validator.ValidationFunctions,this.validationResultStatuses=a.Validator.ValidationResultStatuses,this.validationEffects=new a.Validator.ValidationEffects,this.fields=a.Validator.Fields,this.validationResultStatuses=a.Validator.ValidationResultStatuses},a.mix(b.prototype,{validateField:function(a,b,c,d){var e,f,g,h,i,j,k,l=c.length,m=b.validationFunctions,n=b.validationResultStatuses,o=b.validationEffects,p=a.target;for(e=0;l>e;e+=1)if(validation=c[e],f=validation.rule,g=validation.param,h=validation.effect,i=validation.message,j=a.target.get("value"),k=m[f](j,g),k===n.PASSED)d.status=!0,d.message="",p.setAttribute("aria-invalid","false"),o[h](d);else{if(k===n.FAILED){d.status=!1,d.message=i,p.setAttribute("aria-invalid","true"),o[h](d);break}if(k===n.FAILED_BUT_EFFECT_SKIPPED){p.setAttribute("aria-invalid","true"),d.status=!1,d.message="";break}if(k===n.PASSED_BUT_FURTHER_VALIDATION_SKIPPED){d.status=!0,d.message="",p.setAttribute("aria-invalid","false"),o[h](d);break}if(k===n.SKIPPED)break}},fieldFocusHandler:function(b,c){if(""!==c.message){var d=a.one(c.messageTargetId);d&&(d.set("innerHTML",c.message),d.addClass("show"))}},init:function(){var b,c,d,e,f,g,h,i=this.fieldsValidationConfigs,j=this.fields;for(b=0,c=i.length;c>b;b+=1)d=i[b],d&&(e=d.field,f=d.event,g=d.validations,a.on(f,this.validateField,e.id,null,this,g,e));for(h in j)a.on("focus",this.fieldFocusHandler,j[h].id,null,j[h])}},!0),a.namespace("Validator"),a.Validator.ValidationController=b},{requires:["node","fields-validation-configs","validation-functions","validation-result-statuses","validation-effects"]});